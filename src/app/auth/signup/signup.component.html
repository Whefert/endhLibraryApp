<div class="container">
  <div class="d-flex justify-content-center mt-5" *ngIf="isLoading">
    <div class="spinner-border" role="status">
      <!-- <span class="sr-only">Loading...</span> -->
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <img class="img-fluid" src="../../../assets/myles_photo.jpeg" alt="" />
    </div>
    <div class="col-sm-12 col-md-6 mt-3 ps-3">
      <h1 class="mb-3">Create an account</h1>
      <form
        class="needs-validation mb-3"
        novalidate
        *ngIf="!isLoading"
        (submit)="onSignUp(loginForm)"
        #loginForm="ngForm"
      >
        <div class="row mb-2">
          <div class="col-sm-12 col-lg-6">
            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                name="name"
                ngModel
                #nameInput="ngModel"
                required
              />
              <div class="valid-feedback">Looks good!</div>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email address</label>
              <input
                type="email"
                class="form-control"
                id="email"
                aria-describedby="emailHelp"
                #emailInput
                name="email"
                ngModel
                required
                email
              />
              <div id="emailHelp" class="form-text">
                We'll never share your email with anyone else.
              </div>
            </div>
            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                ngModel
                #passwordInput="ngModel"
                required
              />
              <div class="valid-feedback">Looks good!</div>
            </div>
            <div class="mb-5">
              <re-captcha
                id="recaptcha"
                name="recaptcha"
                #recaptcha="ngModel"
                [(ngModel)]="token"
                required
                [class.is-invalid]="
                  recaptcha.invalid && (recaptcha.dirty || recaptcha.touched)
                "
              ></re-captcha>
              <div
                *ngIf="
                  recaptcha.invalid && (recaptcha.dirty || recaptcha.touched)
                "
                class="invalid-feedback"
              >
                <div *ngIf="recaptcha.errors?.['required']">
                  This field is required.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <button type="submit" *ngIf="!isLoading" class="btn btn-primary w-50">
            Sign Up
          </button>
          <div
            *ngIf="isLoading"
            class="spinner-border text-primary"
            role="status"
          >
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
